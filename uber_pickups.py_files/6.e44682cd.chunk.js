(this["webpackJsonps4a-web"]=this["webpackJsonps4a-web"]||[]).push([[6],{952:function(e,t,a){e.exports={container:"embeddedAppMetaInfoBar_container__LZA_B",appName:"embeddedAppMetaInfoBar_appName__2_lmV",hostedName:"embeddedAppMetaInfoBar_hostedName__3ocJR"}},957:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Q}));var s=a(0),n=a(28),i=a(51),r=a.n(i),o=a(326),c=a(322),l=a(39),p=a(250),d=a(94),j=a(167),b=a(63),O=a(20),u=a(295),v=a(1);function m(){return window.location.href=Object(b.a)({section:O.a.DASHBOARD,path:O.c.DOMAIN_AUTH,searchParams:new URLSearchParams("".concat(O.e,"=").concat(window.location.href))}),Object(v.jsx)(u.a,{overlay:!0})}var h=Object(s.memo)(m),x=a(22),f=a(25),w=a(9),N=a.n(w),E=a(92),I=a(69),S=a(537),A=a(297),D=a(265),g=a(534),_=a(535),R=a(952),B=a.n(R);function U(e){var t=e.utmString;return Object(v.jsxs)("div",{className:B.a.container,children:[Object(v.jsx)("div",{className:B.a.appName,children:"Built with Streamlit \ud83c\udf88"}),Object(v.jsx)("div",{className:B.a.hostedName,children:Object(v.jsx)("a",{href:t,className:"font-bold",target:"_blank",rel:"noopener noreferrer",children:"[view app]"})})]})}var P=Object(s.memo)(U),y=a(442),T=a(440),C=a(441),G=a(323),H=a(367),L=a(195),M=a(538),V=a(182),k=a(239),F=a.n(k),J=a(52);function q(e){var t,a=e.app,s=e.appContext,n=e.dispatch,i=e.isOwner,r=e.appState,o=e.isInState,c=e.isPrivate,p=e.isEmbed,d=e.streamlitVersion;return o("INITIAL")?Object(v.jsx)(l.a,{}):o("UNAUTHORIZED")?Object(v.jsx)(h,{}):o("AMBIGUOUS_UPDATING")?Object(v.jsx)(l.a,{message:"App is updating"}):o("BOOTING")?i?Object(v.jsx)(V.a,{}):Object(v.jsx)(l.a,{message:"App is booting"}):o("REBOOTING")?i?Object(v.jsx)(V.a,{}):Object(v.jsx)(l.a,{message:"App is updating"}):o("RUNNING")||o("DELETED")&&i?Object(v.jsxs)(v.Fragment,{children:[!i&&!p&&Object(v.jsx)(_.a,{className:F.a.viewerBadge}),!i&&p&&Object(v.jsx)(P,{utmString:"/?utm_medium=oembed"}),Object(v.jsx)(V.d,{app:a,isOwner:i,className:F.a.iframe,showBalloons:s.showBalloons&&o("RUNNING"),onAnimationEnd:function(){return n({type:"END_DEPLOY"})},isPrivate:c})]}):o("ERROR")?Object(v.jsx)(V.b,{app:a,isOwner:i,details:null===r||void 0===r||null===(t=r.context)||void 0===t?void 0:t.error}):o("RESOURCE_BUSY")?Object(v.jsx)(V.c,{app:a,isOwner:i,isPrivateRepo:c,streamlitVersion:d}):o("SUSPENDED")?Object(v.jsx)(V.e,{app:a,isOwner:i}):Object(v.jsx)(V.b,{app:a,isOwner:i,details:"Encountered an unknown app state: ".concat(null===r||void 0===r?void 0:r.value)})}function Y(e){var t,a,i=e.app,o=e.user,c=Object(n.g)(),p=Object(S.a)(),j=Object(J.b)(),u=Object(A.b)(),m=u.state,h=u.dispatch,x=Object(I.a)(i),w=x.isOwner,_=x.isPending,R=x.platformStatus,B=x.status,U=x.streamlitVersion,P=x.viewerAuthEnabled,V=Object(M.a)(i),k=V.appState,Y=V.isInState,Z=Object(d.b)(i.appId).context,W=null===(t=null===Z||void 0===Z||null===(a=Z.app)||void 0===a?void 0:a.source.repository.isPrivate)||void 0===t||t,z=r.a.parseUrl(c.search).query;Object(s.useEffect)((function(){p&&h({type:"HIDE_SIDEBAR"})}),[p,h]);return Object(s.useEffect)((function(){m.showBalloons&&!_&&Y("RUNNING")&&E.a.logger.info("Completed triggering deployment",{event_id:L.a.CompleteDeploy,app_status:B,platform_status:R})}),[m.showBalloons,_,Y,B,R]),_||Y(void 0)?Object(v.jsx)(l.a,{overlay:!0}):Y("NOT_FOUND")||Y("DELETED")&&!w?Object(v.jsx)(D.default,{}):Object(v.jsxs)("div",{className:N()(F.a.streamlitAppContainer,Object(f.a)({},F.a.embed,z.embed)),children:[Object(v.jsx)(T.a,{onDelete:function(){var e=Object(b.a)({section:O.a.DASHBOARD,searchParams:new URLSearchParams("".concat(O.f,"=").concat(j.Name()))});window.location.href=e}}),Object(v.jsx)(H.b,{hideTab:[H.a.General]}),Object(v.jsx)(G.a,{}),Object(v.jsx)(y.a,{}),Object(v.jsx)(C.a,{}),Object(v.jsxs)("div",{className:N()(F.a.stateContainer,Object(f.a)({},F.a.withTerminal,o&&w&&m.showSidebar)),children:[q({app:i,appContext:m,dispatch:h,isOwner:w,appState:k,isInState:Y,isPrivate:W,isEmbed:!!z.embed,streamlitVersion:U}),o&&w&&Object(v.jsx)(g.a,{app:i,appState:k,hasError:Y("ERROR"),className:F.a.terminal,toggleCollapse:function(){m.showSidebar?h({type:"HIDE_SIDEBAR"}):h({type:"SHOW_SIDEBAR"})},isCollapsed:!m.showSidebar,viewerAuthEnabled:P})]})]})}var Z=Object(s.memo)(Y);function W(e){var t=e.rest,a=window.location.host.split(".")[0];return window.location.href=Object(b.a)({section:O.a.DASHBOARD,path:"app/".concat(a,"/").concat(t)}),Object(v.jsx)(u.a,{overlay:!0})}var z=Object(s.memo)(W);function K(){var e,t,a,s,i,b=Object(n.g)(),O=Object(n.h)(),u=Object(n.i)(),m=Object(j.c)(u,b.search),f=m.disambiguateUrlData,w=m.rest,N=Object(c.a)(f),E=N.app,I=N.error,S=N.isPending,A=Object(d.b)(null===E||void 0===E?void 0:E.appId),D=A.context,g=A.error,_=A.isPending,R=Object(x.b)(E);if(Object(o.a)(null===E||void 0===E?void 0:E.appId,!0,3e4),401===(null===I||void 0===I||null===(e=I.response)||void 0===e?void 0:e.status)||401===(null===g||void 0===g||null===(t=g.response)||void 0===t?void 0:t.status))return Object(v.jsx)(h,{});if(_||S)return Object(v.jsx)(l.a,{overlay:!0});if(404===(null===I||void 0===I||null===(a=I.response)||void 0===a?void 0:a.status)||404===(null===g||void 0===g||null===(s=g.response)||void 0===s?void 0:s.status)||403===(null===g||void 0===g||null===(i=g.response)||void 0===i?void 0:i.status))return Object(v.jsx)(z,{rest:w});if(g)return Object(v.jsx)(p.default,{details:g});if(I)return Object(v.jsx)(p.default,{details:I});if(!E||!E.subdomain||!R)return Object(v.jsx)(z,{rest:w});E&&D&&D.app.isFavorited&&(E.isFavorited=!0);var B=r.a.parseUrl(b.search).query;return null!==B&&void 0!==B&&B.acceptInvite&&O({search:Object(j.b)(b.search,["acceptInvite"])}),Object(v.jsx)(Z,{app:E,user:null===D||void 0===D?void 0:D.user})}var Q=Object(s.memo)(K)}}]);
//# sourceMappingURL=6.e44682cd.chunk.js.map